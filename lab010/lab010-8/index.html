
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://mmondics.github.io/ocp-cloudpak-workshop/lab010/lab010-8/">
      
      <link rel="icon" href="../../images/openshift-logo.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.3.0">
    
    
      
        <title>Application Observability with Kiali - Red Hat OpenShift and IBM Cloud Paks on IBM Z and LinuxONE Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#application-observability-with-kiali" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
  <script>
      (function(s,t,a,n){s[t]||(s[t]=a,n=s[a]=function(){n.q.push(arguments)},
      n.q=[],n.v=2,n.l=1*new Date)})(window,"InstanaEumObject","ineum");
    
      ineum('reportingUrl', 'https://eum-orange-saas.instana.io');
      ineum('key', '5TTGOP2NTWKuA4a5VujUxA');
      ineum('page', location.pathname);
      ineum('user', userId);
    </script>
    <script defer crossorigin="anonymous" src="https://eum.instana.io/eum.min.js"></script>

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Red Hat OpenShift and IBM Cloud Paks on IBM Z and LinuxONE Workshop" class="md-nav__button md-logo" aria-label="Red Hat OpenShift and IBM Cloud Paks on IBM Z and LinuxONE Workshop" data-md-component="logo">
      
  <img src="../../images/openshift-logo.png" alt="logo">

    </a>
    Red Hat OpenShift and IBM Cloud Paks on IBM Z and LinuxONE Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/mmondics/ocp-cloudpak-workshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab-assignments/" class="md-nav__link">
        Lab Assignments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../workshop-architecture/" class="md-nav__link">
        Lab Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Presentations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Presentations" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Presentations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/presentation1.pdf" class="md-nav__link">
        Presentation 1 - Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/presentation2.pdf" class="md-nav__link">
        Presentation 2 - Technical Deep Dive
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Labs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Labs" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Labs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_1">
          Exploring the OpenShift Console
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Exploring the OpenShift Console" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Exploring the OpenShift Console
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-1/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-2/" class="md-nav__link">
        Connect to OCP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-3/" class="md-nav__link">
        The Administrator Persepctive
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-4/" class="md-nav__link">
        The Developer Perspective
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-5/" class="md-nav__link">
        Deploy from the Developer Catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-6/" class="md-nav__link">
        View Workload from the Administrator Perspective
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab001/lab001-7/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Using the OpenShift Command Line (oc)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using the OpenShift Command Line (oc)" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Using the OpenShift Command Line (oc)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-1/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-2/" class="md-nav__link">
        Log into OpenShift Using the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-3/" class="md-nav__link">
        Overview of the OpenShift CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-4/" class="md-nav__link">
        Deploy Container Image from the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-5/" class="md-nav__link">
        Open a Remote Shell Session into the MongoDB Pod
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-6/" class="md-nav__link">
        Working with Pods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-7/" class="md-nav__link">
        Administrative CLI Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab002/lab002-8/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Deploying an Application from Source Code
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deploying an Application from Source Code" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Deploying an Application from Source Code
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab004/lab004-1/" class="md-nav__link">
        Source-to-Image (S2I) Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab004/lab004-2/" class="md-nav__link">
        Exploring GitHub and the Example Health Source Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab004/lab004-3/" class="md-nav__link">
        Connect to OCP and Authenticate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab004/lab004-4/" class="md-nav__link">
        Edit the Source Code and Push an Update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab004/lab004-5/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          OpenShift Pipelines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OpenShift Pipelines" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          OpenShift Pipelines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-0/" class="md-nav__link">
        Introduction to OpenShift Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-1/" class="md-nav__link">
        Log into OpenShift Using the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-2/" class="md-nav__link">
        Cloning the GitHub Repository and Viewing its Contents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-3/" class="md-nav__link">
        Understanding and Deploying Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-4/" class="md-nav__link">
        Understanding and Deploying Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-5/" class="md-nav__link">
        Running the Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-6/" class="md-nav__link">
        Access the Application in a Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab009/lab009-7/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Monitoring, Metering, and Metrics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Monitoring, Metering, and Metrics" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Monitoring, Metering, and Metrics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-1/" class="md-nav__link">
        Overview of OpenShift Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-2/" class="md-nav__link">
        Connect to OCP and Authenticate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-3/" class="md-nav__link">
        Using OpenShift Metrics (Prometheus)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-4/" class="md-nav__link">
        Using the In-Browser Grafana Dashboards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-5/" class="md-nav__link">
        Connect to Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-6/" class="md-nav__link">
        Using Grafana Dashboards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab005/lab005-7/" class="md-nav__link">
        Using OpenShift Alerts (Alertmanager)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          Using Persistent Storage with MongoDB and NodeJS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using Persistent Storage with MongoDB and NodeJS" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Using Persistent Storage with MongoDB and NodeJS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-1/" class="md-nav__link">
        Overview of Persistent Storage and Application Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-2/" class="md-nav__link">
        Connect to OCP and Authenticate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-3/" class="md-nav__link">
        Create a PersistentVolumeClaim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-4/" class="md-nav__link">
        Deploy MongoDB from Container Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-5/" class="md-nav__link">
        Deploy Node.js Application from Dockerfile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-6/" class="md-nav__link">
        Interacting with MongoDB from Node.js Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab006/lab006-7/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_7">
          Using the z/OS Cloud Broker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Using the z/OS Cloud Broker" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Using the z/OS Cloud Broker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab003/lab003-1/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab003/lab003-2/" class="md-nav__link">
        Connect to OCP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab003/lab003-3/" class="md-nav__link">
        Deploy Liberty for z/OS Using the z/OS Cloud Broker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab003/lab003-4/" class="md-nav__link">
        Stop and Restart Liberty for z/OS from OCP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab003/lab003-5/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_8" type="checkbox" id="__nav_6_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_8">
          Deploying an Application with the Open Liberty Operator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deploying an Application with the Open Liberty Operator" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_8">
          <span class="md-nav__icon md-icon"></span>
          Deploying an Application with the Open Liberty Operator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-1/" class="md-nav__link">
        Overview of the Open Liberty Operator and Sample Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-2/" class="md-nav__link">
        Log into OpenShift Using the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-3/" class="md-nav__link">
        Cloning the GitHub Repository and Reviewing its Contents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-4/" class="md-nav__link">
        Using the Open Liberty Operator to Install an Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-5/" class="md-nav__link">
        Access the Application in a Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab007/lab007-6/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_9" type="checkbox" id="__nav_6_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_9">
          Deploying an Application with Quarkus Red Hat Runtime
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deploying an Application with Quarkus Red Hat Runtime" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_9">
          <span class="md-nav__icon md-icon"></span>
          Deploying an Application with Quarkus Red Hat Runtime
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-1/" class="md-nav__link">
        Overview of the Quarkus Red Hat Runtime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-2/" class="md-nav__link">
        Log into OpenShift Using the CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-3/" class="md-nav__link">
        Creating and Reviewing the Quarkus Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-4/" class="md-nav__link">
        Configure the Application for OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-5/" class="md-nav__link">
        Deploy the Application onto OpenShift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lab008/lab008-6/" class="md-nav__link">
        Cleaning Up
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../print_page/" class="md-nav__link">
        Print Site
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#validating-istio-configuration-with-kiali" class="md-nav__link">
    Validating Istio Configuration with Kiali
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-service-mesh-application-configuration-with-kiali" class="md-nav__link">
    Validating Service Mesh Application Configuration with Kiali
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-your-service-mesh-applications-with-kiali" class="md-nav__link">
    Viewing Your Service Mesh Applications with Kiali
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-service-mesh-applications-with-kiali" class="md-nav__link">
    Managing Service Mesh Applications with Kiali
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/mmondics/ocp-cloudpak-workshop/edit/main/docs/lab010/lab010-8.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="application-observability-with-kiali">Application Observability with Kiali<a class="headerlink" href="#application-observability-with-kiali" title="Permanent link">&para;</a></h1>
<p><em>Kiali</em> provides visibility into your service mesh by showing you the microservices in your service mesh, and how they are connected.</p>
<p>Kiali provides an interactive graph view of your namespace in real time that provides visibility into features like circuit breakers, request rates, latency, and even graphs of traffic flows. Kiali offers insights about components at different levels, from Applications to Services and Workloads, and can display the interactions with contextual information and charts on the selected graph node or edge. Kiali also provides the ability to validate your Istio configurations, such as gateways, destination rules, virtual services, mesh policies, and more.</p>
<ol>
<li>
<p><strong>Navigate to the Kiali console located at: <a href="https://kiali-istio-system.apps.atsocppa.dmz">https://kiali-istio-system.apps.atsocppa.dmz</a></strong></p>
</li>
<li>
<p><strong>Log in with your OpenShift credentials</strong>.</p>
</li>
<li>
<p><strong>View the overview of your mesh in the Overview page that appears immediately after you log in</strong>.</p>
<p>The Overview page displays all the namespaces that have services in the mesh.</p>
<p><img alt="kiali-overiview" src="../../images/kiali-overview.png" /></p>
<p>The namespaces shown are those previously discussed in the Service Mesh Member Roll.</p>
</li>
</ol>
<h2 id="validating-istio-configuration-with-kiali">Validating Istio Configuration with Kiali<a class="headerlink" href="#validating-istio-configuration-with-kiali" title="Permanent link">&para;</a></h2>
<p>Kiali can validate your Istio resources to ensure they follow proper conventions and semantics. Any problems detected in the configuration of your Istio resources can be flagged as errors or warnings depending on the severity of the incorrect configuration.</p>
<p>You might have noticed on the Kiali overview page that there is an error somewhere within your userNN-project Istio configuration.</p>
<p><img alt="kiali-overiview-2" src="../../images/kiali-overview-2.png" /></p>
<ol>
<li>
<p>Let’s find and fix that error. <strong>In the left-side menu of the Kiali console, navigate to Istio Config, and then filter to your userNN-project namespace</strong>.</p>
<p><img alt="istio-config" src="../../images/istio-config.png" /></p>
<p>You should notice an error icon in the Configuration column for your details microservice.</p>
</li>
<li>
<p><strong>Click the details hyperlink to drill down into the microservice and scroll to the bottom of the YAML file</strong>.</p>
<p><img alt="yaml-error" src="../../images/yaml-error.png" /></p>
</li>
<li>
<p>There is an error with v2 of the details DestinationRule. <strong>For more specificity, hover over the red X to the left of the YAML file</strong>.</p>
<p><img alt="yaml-error-more" src="../../images/yaml-error-more.png" /></p>
<p>You will see the error code KIA0203 This subset’s labels are not found in any matching host. Essentially, the details DestinationRule is failing to find the v2 host for the details microservice.</p>
<p>If you look back at our Bookinfo application architecture, there is only supposed to be one version of the details microservice - v1 is the only version that exists.</p>
</li>
<li>
<p><strong>Correct the error by deleting lines 30-32 of the YAML file, resulting in the following</strong>:</p>
<p><img alt="yaml-error-fixed" src="../../images/yaml-error-fixed.png" /></p>
</li>
<li>
<p><strong>Click on the Istio Config tab in the left-side menu again to navigate back to the configuration page for your project</strong>.</p>
<p>You should no longer have any configuration issues in your Istio configuration.</p>
<p><img alt="istio-config-noerror" src="../../images/istio-config-noerror.png" /></p>
</li>
</ol>
<h2 id="validating-service-mesh-application-configuration-with-kiali">Validating Service Mesh Application Configuration with Kiali<a class="headerlink" href="#validating-service-mesh-application-configuration-with-kiali" title="Permanent link">&para;</a></h2>
<p>Along with identifying issues with the Istio configuration, Kiali can also identify issues with the <em>applications running on the Service Mesh</em>.</p>
<ol>
<li>
<p><strong>In your terminal session, introduce an invalid configuration of a service port name with the following command</strong>:</p>
<div class="highlight"><pre><span></span><code>oc patch service details --type json -p \
&#39;[{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/ports/0/name&quot;, &quot;value&quot;:&quot;foo&quot;}]&#39;
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>user01@lab061:~/istio-s390x$ oc patch service details --type json -p \
&gt; &#39;[{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/ports/0/name&quot;, &quot;value&quot;:&quot;foo&quot;}]&#39;
service/details patched
</code></pre></div>
</details>
<p>If you see the <code>service/details patched</code> message as in the image above, your patch was successful.</p>
</li>
<li>
<p>Back in the Kiali web console, <strong>navigate to the Services page from the left side menu</strong>.</p>
<p><img alt="kiali-service" src="../../images/kiali-service.png" /></p>
<p>You will notice that you now have an error icon under the Configuration column for the details service.</p>
</li>
<li>
<p><strong>Click the details hyperlink and then click the Network option under Service Info</strong>.</p>
<p><img alt="service-info-error" src="../../images/service-info-error.png" /></p>
</li>
<li>
<p>Hover over the error icon to display a tool tip describing the error.</p>
<p><img alt="service-info-error-2" src="../../images/service-info-error-2.png" /></p>
<p>This error is telling you that your port name does not follow the correct syntax.</p>
</li>
<li>
<p><strong>Back in your terminal session, run the following command to correct the port name</strong>:</p>
<div class="highlight"><pre><span></span><code>    oc patch service details--type json -p \
    &#39;[{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/ports/0/name&quot;, &quot;value&quot;:&quot;http&quot;}]&#39;
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>user01@lab061:~/istio-s390x$ oc patch service details --type json -p \
&gt; &#39;[{&quot;op&quot;:&quot;replace&quot;,&quot;path&quot;:&quot;/spec/ports/0/name&quot;, &quot;value&quot;:&quot;http&quot;}]&#39;
service/details patched
</code></pre></div>
</details>
</li>
<li>
<p><strong>Back in the Kiali console, click the blue refresh button and see that your error has been fixed</strong>.</p>
<p><img alt="service-info-noerror" src="../../images/service-info-noerror.png" /></p>
</li>
</ol>
<p>Now that our Service Mesh is configured correctly, along with the application running on top of it, let’s explore some of the other features that Kiali provides.</p>
<h2 id="viewing-your-service-mesh-applications-with-kiali">Viewing Your Service Mesh Applications with Kiali<a class="headerlink" href="#viewing-your-service-mesh-applications-with-kiali" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>To view your namespace graph, <strong>Select the Graph option in the left side menu and select your project in the namespace dropdown</strong>. The page looks similar to:</p>
<p><img alt="kiali-graph" src="../../images/kiali-graph.png" /></p>
<p>The graph represents traffic flowing through the service mesh for a period of time, generated using Istio telemetry.</p>
</li>
<li>
<p>Let’s generate some traffic into our Bookinfo application. <strong>In your terminal session, run the following command to continually send http request to the productpage</strong>:</p>
<div class="highlight"><pre><span></span><code>watch -n 1 curl -o /dev/null -s -w %{http_code} $GATEWAY_URL/productpage
</code></pre></div>
<details class="example" open="open"><summary>Example Output</summary><div class="highlight"><pre><span></span><code>user01@lab061:~/istio-s390x$ watch -n 1 curl -o /dev/null -s -w %{http_code} $GATEWAY_URL/productpage
Every 1.0s: curl -o /dev/null -s -w %{http_code} user01-project.istio.apps.atsocppa.dmz/productpage

200
</code></pre></div>
</details>
<p>If you see a 200 return code as in the image above, you’re now sending requests to the productpage every second.</p>
<div class="admonition important">
<p class="admonition-title"><img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> Important <img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /></p>
<p>Note: you will want to leave this watch command running until otherwise directed.</p>
</div>
</li>
<li>
<p><strong>Open a second terminal session and connect to the environment as directed previously in this lab</strong>.</p>
</li>
<li>
<p><strong>To view a summary of metrics, select any node or edge in the graph to display its metric details in the summary details panel on the right</strong>.</p>
<p>For example, <strong>click on the triangle representing the productpage service</strong>, and you should see a 100% success rate for both inbound and outbound traffic.</p>
<p><img alt="productpage-node" src="../../images/productpage-node.png" /></p>
</li>
<li>
<p><strong>On this same page, click the Display dropdown and select Requests Percentage and Service Nodes, if they aren’t already selected</strong>.</p>
<p><img alt="display-dropdown" src="../../images/display-dropdown.png" /></p>
<p>This will let you view the percentage of traffic to each workload in near real-time. For example, since there are three versions of the reviews microservice and traffic is being distributed in a round-robin fashion, you should see close to 33% traffic going from the productpage to each version of reviews.</p>
<p><img alt="reviews-flow" src="../../images/reviews-flow.png" /></p>
<p>Your percentages are likely not exactly 33.3%, as in the image above. More often, they will vary between 20% and 40%.</p>
</li>
</ol>
<h2 id="managing-service-mesh-applications-with-kiali">Managing Service Mesh Applications with Kiali<a class="headerlink" href="#managing-service-mesh-applications-with-kiali" title="Permanent link">&para;</a></h2>
<p>Kiali does not only allow visibility into your service mesh application, Kiali can also be used to directly interact with the application.</p>
<ol>
<li>
<p><strong>Click the reviews service represented by a triangle. In the right-side menu that pops up, click on the hyperlink for the reviews service</strong>.</p>
<p><img alt="reviews-service" src="../../images/reviews-service.png" /></p>
<p>You are taken to the Services page (instead of Graph, where you previously were). This shows expanded information about the reviews service, its properties and versions, metrics about its traffic, and more.</p>
</li>
<li>
<p><strong>Click the Actions dropdown in the top right of the page to see the traffic management options you have - Request Routing, Fault Injection, Traffic Shifting, and Request Timeouts</strong>.</p>
<p>These should all be grayed out right now because these are managed through DestinationRules, and we already created one for the reviews service in a previous step.</p>
</li>
<li>
<p><strong>Delete the Traffic Routing from this Actions dropdown and confirm that you want to delete the DestinationRule: ‘reviews’</strong>.</p>
<p><img alt="delete-traffic-routing" src="../../images/delete-traffic-routing.png" /></p>
</li>
<li>
<p><strong>Click the Actions dropdown again</strong> and you will notice that the options can now be selected and <strong>click the Traffic Shifting option</strong>.</p>
<p><img alt="traffic-shifting" src="../../images/traffic-shifting.png" /></p>
<p>From this page, you can create a new Traffic Shifting rule to manage how much traffic should be directed to each version of the reviews microservice.</p>
</li>
<li>
<p><strong>Slide the slider for reviews-v3 all the way to the left for 0%, and then make reviews-v1 and reviews-v2 50% and click create</strong>. Your page should look like the image below.</p>
<p><img alt="create-traffic-shifting" src="../../images/create-traffic-shifting.png" /></p>
</li>
<li>
<p><strong>Navigate back to the Graph page from the left side menu</strong>.</p>
<p>Over the next few minutes (and depending on the graph’s refresh rate that you can edit in the top right of the Graph page) you will see that the percentage of traffic going to v3 of reviews will decrease towards 0%, while the traffic going to v1 and v2 will increase towards 50%.</p>
<p><img alt="shifted-traffic" src="../../images/shifted-traffic.png" /></p>
</li>
<li>
<p><strong>In your web browser, navigate back to your bookinfo productpage and refresh the page a few times</strong>.</p>
<p>No matter how many times you refresh, you will not see the red stars again. That is because no traffic can reach v3 of the reviews microservice, which is the version that provides red stars.</p>
</li>
</ol>
<p>As you can tell from the past few sections, you can control Service Mesh applications either from the Command Line by creating VirtualServices and DestinationRules, or by using the Kiali GUI console. Using the Kiali console simply generates the VirtualServices and DestinationRules for you, however the Command Line offers greater flexibility, more control, and the ability to automate the creation of these rules.</p>
<p>We will now move on from Kiali to Jaeger, the tool that OSSM uses for distributed tracing. At this point, feel free to explore Kiali and the other functions it provides. There are many things Kiali can do that we will not be covering in this lab. You can find more information in the Kiali documentation here: <a href="https://kiali.io/documentation/latest/features/">https://kiali.io/documentation/latest/features/</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2021 IBM Z Washington Systems Center
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  </body>
</html>